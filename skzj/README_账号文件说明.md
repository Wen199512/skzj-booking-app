# 首矿之家活动预约系统 - 使用说明

## 账号文件配置

### 文件位置
`zh.txt` 文件已包含在项目中，位于：`F:\vscx\skzj\skzj\zh.txt`

### 文件格式
每行一个账号，格式为：`姓名,用户ID,密码`

**示例：**
```
张三,USER123456,PASSWORD123
李四,USER789012,PASSWORD456
```

### 当前已加载的账号
文件中已包含以下账号（共14个）：
1. 赵忠民
2. 郭丽英
3. 张双军
4. 吴宝坤
5. 温骏
6. 夏彦东
7. 王鹏
8. 鲍东宾
9. 高家伟
10. 许哲
11. 温伯江
12. 李志超
13. 闫青
14. 庞丽凤

## 使用流程

### 1. 启动应用
- 运行应用后会自动进入登录界面
- 系统会自动从项目目录加载 `zh.txt` 文件
- 界面底部会显示加载状态（已加载的账号数量）

### 2. 登录
- 在输入框中输入您的姓名（必须与 zh.txt 文件中的姓名完全一致）
- 点击"登录"按钮或按回车键
- 如果姓名匹配成功，会自动跳转到预约界面

### 3. 预约活动
登录成功后：
- 顶部会显示当前登录用户信息
- 点击"查询活动列表"获取可用活动
- 从列表中选择活动，或手动输入活动编号
- 点击"开始预约"启动多线程并发预约
- 系统会使用您登录的账号信息进行预约

### 4. 查看结果
- 预约过程会在日志区域实时显示
- 预约完成后会自动保存结果到文件
- 文件位置：应用数据目录

## 技术特性

### 文件加载策略
应用会按以下顺序查找 `zh.txt` 文件：
1. **项目目录**：`[应用安装目录]/zh.txt`（优先）
2. **应用数据目录**：`FileSystem.AppDataDirectory/zh.txt`（备用）

### 单账号多线程预约
- 使用登录用户的账号信息
- 多线程并发提交预约请求
- 提高预约成功率

### 文件编码
- 支持 UTF-8 编码
- 自动处理空行
- 支持多种分隔符（逗号、制表符、空格）

## 注意事项

1. **姓名匹配**：登录时输入的姓名必须与文件中完全一致（不区分大小写）
2. **文件格式**：请使用英文逗号（,）分隔，不要使用中文逗号（，）
3. **空格处理**：系统会自动去除姓名前后的空格
4. **文件更新**：修改 `zh.txt` 文件后，需要重新启动应用才能生效

## 故障排查

### 问题：提示"账号文件未找到"
**解决方案：**
- 确认 `zh.txt` 文件存在于 `F:\vscx\skzj\skzj\` 目录
- 检查文件名是否正确（区分大小写）
- 重新构建项目以确保文件被复制到输出目录

### 问题：提示"未找到姓名"
**解决方案：**
- 确认输入的姓名在 `zh.txt` 文件中存在
- 检查文件格式是否正确（使用英文逗号分隔）
- 确认文件使用 UTF-8 编码保存

### 问题：加载账号数量为 0
**解决方案：**
- 检查文件格式：每行应为 `姓名,用户ID,密码`
- 确保至少有3个字段（用逗号分隔）
- 删除文件中的空行

## 文件示例

正确格式的 `zh.txt` 文件：
```
张三,USER001,PASS001
李四,USER002,PASS002
王五,USER003,PASS003
```

错误格式示例（不要这样做）：
```
张三，USER001，PASS001    ? 使用了中文逗号
 李四 , USER002 , PASS002  ? 有多余空格（虽然会被自动处理）
王五 USER003 PASS003        ? 缺少分隔符
```

## 更新记录

- v1.0 - 初始版本
  - 支持从项目目录加载 zh.txt
  - 姓名登录验证
  - 单账号多线程预约
